{% set currentCurrency = currentCurrency ?? 'euro' %}
{% set currentMarketplace = currentMarketplace ?? 'cardmarket' %}

<!-- Profile button -->
<div class="profile-container">
    <button class="profile-button" onclick="toggleMenu('profile')">
        <img src="{{ asset('assets/profile.svg') }}" alt="Profile">
    </button>
</div>

<div class="profile-overlay" id="profileOverlay">
    <div class="profile-content">
        {% if not app.user %}
            <div class="auth-links">

                <!-- Login button -->
                <a
                    href="/login"
                    class="menu-link"
                    data-action="click->navigation#navigateTo"
                    data-target="navigation.menuLink">
                    <button class="menu-item {% if '/login' == currentPage %}active{% endif %}">
                        <span>{{ "login.title"|trans }}</span>
                    </button>
                </a>

                <!-- Register button -->
                <a
                    href="/register"
                    class="menu-link"
                    data-action="click->navigation#navigateTo"
                    data-target="navigation.menuLink">
                    <button class="menu-item {% if '/register' == currentPage %}active{% endif %}">
                        <span>{{ "register.title"|trans }}</span>
                    </button>
                </a>
            </div>
        {% endif %}

        <!-- Forms -->
        <div class="profile-section">{% include "routes/profile/appLanguageForm.html.twig" %}</div>
        <div class="profile-section">{% include "routes/profile/cardsLanguageForm.html.twig" %}</div>
        {# <div class="profile-section">{% include "routes/profile/currencyForm.html.twig" %}</div>#}
        {# <div class="profile-section">{% include "routes/profile/marketplaceForm.html.twig" %}</div>#}

        <!-- Roadmap button -->
        <a
            href="/roadmap"
            class="menu-link"
            data-action="click->navigation#navigateTo"
            data-target="navigation.menuLink">
            <button class="menu-item {% if '/roadmap' == currentPage %}active{% endif %}">
                <span>{{ "roadmap.title"|trans }}</span>
            </button>
        </a>

        <!-- Logout button -->
        {% if app.user %}
            <a
                href="/logout"
                class="menu-link"
                data-action="click->navigation#navigateTo"
                data-target="navigation.menuLink">
                <button class="menu-item logout-btn">
                    <span>{{ "logout.title"|trans }}</span>
                </button>
            </a>
        {% endif %}
    </div>
</div>

<div class="menu-backdrop" id="profileBackdrop" onclick="toggleMenu('profile')"></div>
